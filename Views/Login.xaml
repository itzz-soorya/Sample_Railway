<UserControl x:Class="UserModule.Login"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:UserModule.Components"
             MinWidth="600" MinHeight="600"
             Background="#F7F7F7"
             Loaded="UserControl_Loaded"
             KeyDown="Login_KeyDown">

    <UserControl.Resources>
        <!-- Modern TextBox Style -->
         <Style x:Key="ModernTextBox" TargetType="TextBox">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="#E0E7ED"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="8,0,8,0"/>
            <Setter Property="Height" Value="40"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Foreground" Value="#222"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6">
                            <ScrollViewer x:Name="PART_ContentHost" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Modern PasswordBox Style -->
        <Style x:Key="ModernPasswordBox" TargetType="PasswordBox">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="#E0E7ED"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="8,0,8,0"/>
            <Setter Property="Height" Value="40"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Foreground" Value="#222"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="PasswordBox">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6">
                            <ScrollViewer x:Name="PART_ContentHost" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </UserControl.Resources>
    

    <!-- Main ScrollViewer for entire Login form -->
    <ScrollViewer x:Name="LoginScrollViewer"
                  VerticalScrollBarVisibility="Auto" 
                  HorizontalScrollBarVisibility="Disabled"
                  PanningMode="VerticalFirst"
                  CanContentScroll="False"
                  IsDeferredScrollingEnabled="False">

        <Grid x:Name="RootGrid" Margin="0,0,0,0">
        

        <!-- ✅ Column definitions must be at the top -->
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2*"/>
            <ColumnDefinition Width="3*"/>
        </Grid.ColumnDefinitions>

        <!-- LEFT PANEL -->
        <Border Grid.Column="0" Background="#E8EAF6" Padding="40">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Welcome Text -->
                <StackPanel Grid.Row="0" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <TextBlock Text="Welcome back!" 
                               FontSize="42" 
                               FontWeight="Bold" 
                               Foreground="#1F2937"
                               HorizontalAlignment="Center" 
                               TextAlignment="Center"/>
                    <TextBlock Text="Login to start Work" 
                               FontSize="18" 
                               Foreground="#4B5563"
                               HorizontalAlignment="Center" 
                               TextAlignment="Center"
                               Margin="0,15,0,0"/>
                </StackPanel>

                <!-- Bottom Policy Section -->
                <StackPanel Grid.Row="1" 
                            VerticalAlignment="Bottom" 
                            HorizontalAlignment="Center"
                            Orientation="Horizontal"
                            Margin="0,0,0,30">
                    <TextBlock Text="Private Policy"
                               Foreground="#8B92A6" 
                               FontSize="13" 
                               FontWeight="Medium"
                               Cursor="Hand"
                               Margin="0,0,30,0"/>
                    <TextBlock Text="Terms of Use"
                               Foreground="#8B92A6" 
                               FontSize="13" 
                               FontWeight="Medium"
                               Cursor="Hand"
                               Margin="0,0,30,0"/>
                    <TextBlock Text="AR Technologies"
                               Foreground="#8B92A6" 
                               FontSize="13" 
                               FontWeight="Medium"
                               Cursor="Hand"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- RIGHT PANEL -->
        <Grid Grid.Column="1" Background="#F9FAFB">
            <Border x:Name="CardBorder"
                    Width="440"
                    Padding="50,40"
                    CornerRadius="20"
                    Background="White"
                    VerticalAlignment="Center"
                    HorizontalAlignment="Center">
                <Border.Effect>
                    <DropShadowEffect Color="#000000" BlurRadius="30" ShadowDepth="0" Opacity="0.08"/>
                </Border.Effect>
                
                <StackPanel>
                    <!-- Lock Icon -->
                    <Border Width="80" Height="80"
                            Background="#F3F4F6"
                            CornerRadius="40"
                            HorizontalAlignment="Center"
                            Margin="0,0,0,24">
                        <TextBlock Text="🔐" 
                                   FontSize="40" 
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"/>
                    </Border>
                    
                    <!-- Sign In Header -->
                    <TextBlock Text="Sign In"
                               FontSize="32"
                               FontWeight="Bold"
                               Foreground="#1F2937"
                               HorizontalAlignment="Center"
                               Margin="0,0,0,8"/>
                    
                    <TextBlock Text="Enter your credentials to access your account"
                               FontSize="14"
                               Foreground="#6B7280"
                               HorizontalAlignment="Center"
                               TextWrapping="Wrap"
                               TextAlignment="Center"
                               MaxWidth="350"
                               Margin="0,0,0,32"/>

                    <!-- Username Field -->
                    <TextBlock Text="Username"
                               FontSize="14"
                               Foreground="#374151"
                               FontWeight="SemiBold"
                               Margin="0,0,0,8"/>
                    
                    <Border Background="#F9FAFB"
                            BorderBrush="#E5E7EB"
                            BorderThickness="1.5"
                            CornerRadius="10"
                            Height="50"
                            Margin="0,0,0,20">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <!-- User Icon -->
                            <TextBlock Text="👤" 
                                       FontSize="20" 
                                       VerticalAlignment="Center" 
                                       Margin="15,0,10,0"
                                       Grid.Column="0"/>
                            
                            <!-- Username TextBox -->
                            <TextBox x:Name="txtUsername"
                                     Background="Transparent"
                                     BorderThickness="0"
                                     FontSize="15"
                                     Foreground="#1F2937"
                                     VerticalAlignment="Center"
                                     Padding="0"
                                     Grid.Column="1"
                                     KeyDown="TxtUsername_KeyDown"/>
                            
                            <!-- Placeholder -->
                            <TextBlock x:Name="usernamePlaceholder"
                                       Text="Enter your username"
                                       Foreground="#9CA3AF"
                                       FontSize="15"
                                       VerticalAlignment="Center"
                                       IsHitTestVisible="False"
                                       Grid.Column="1"/>
                        </Grid>
                    </Border>

                    <!-- Password Field -->
                    <TextBlock Text="Password"
                               FontSize="14"
                               Foreground="#374151"
                               FontWeight="SemiBold"
                               Margin="0,0,0,8"/>
                    
                    <Border Background="#F9FAFB"
                            BorderBrush="#E5E7EB"
                            BorderThickness="1.5"
                            CornerRadius="10"
                            Height="50"
                            Margin="0,0,0,28">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <!-- Lock Icon -->
                            <TextBlock Text="🔒" 
                                       FontSize="20" 
                                       VerticalAlignment="Center" 
                                       Margin="15,0,10,0"
                                       Grid.Column="0"/>
                            
                            <!-- Password Fields -->
                            <PasswordBox x:Name="txtPassword"
                                         Background="Transparent"
                                         BorderThickness="0"
                                         FontSize="15"
                                         Foreground="#1F2937"
                                         VerticalAlignment="Center"
                                         Padding="0"
                                         Grid.Column="1"/>
                            
                            <TextBox x:Name="txtPasswordVisible"
                                     Background="Transparent"
                                     BorderThickness="0"
                                     FontSize="15"
                                     Foreground="#1F2937"
                                     VerticalAlignment="Center"
                                     Padding="0"
                                     Visibility="Collapsed"
                                     Grid.Column="1"/>
                            
                            <!-- Placeholder -->
                            <TextBlock x:Name="pwdPlaceholder"
                                       Text="Enter your password"
                                       Foreground="#9CA3AF"
                                       FontSize="15"
                                       VerticalAlignment="Center"
                                       IsHitTestVisible="False"
                                       Grid.Column="1"/>
                            
                            <!-- Show/Hide Password Icon -->
                            <Border Width="28" Height="28"
                                    VerticalAlignment="Center"
                                    Margin="0,0,12,0"
                                    Cursor="Hand"
                                    Background="Transparent"
                                    Grid.Column="2"
                                    MouseLeftButtonDown="ShowPassword_Click"
                                    MouseLeftButtonUp="HidePassword_Click">
                                <TextBlock Text="👁" 
                                           FontSize="18"
                                           HorizontalAlignment="Center"
                                           VerticalAlignment="Center"/>
                            </Border>
                        </Grid>
                    </Border>

                    <!-- Sign In Button -->
                    <Button x:Name="btnLogin"
                            Content="Sign In"
                            Height="50"
                            FontSize="16"
                            Foreground="White"
                            FontWeight="SemiBold"
                            Click="Login_Click"
                            Cursor="Hand">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="BorderThickness" Value="0"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="Button">
                                            <Border x:Name="border" 
                                                    CornerRadius="10"
                                                    Background="#000000">
                                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                            </Border>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter TargetName="border" Property="Background" Value="#333333"/>
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </Button.Style>
                    </Button>

                </StackPanel>
            </Border>
        </Grid>

        <!-- ✅ Loader Overlay (kept last for top layer visibility) -->
        <Grid x:Name="LoaderOverlay"
            Grid.ColumnSpan="2"
            Background="#80000000"
            Visibility="Collapsed"
            HorizontalAlignment="Stretch"
            VerticalAlignment="Stretch"
            Panel.ZIndex="999">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <ProgressBar Width="200" Height="10" IsIndeterminate="True"/>
                <TextBlock Text="Loading..." Foreground="White" FontSize="16" HorizontalAlignment="Center" Margin="0,10,0,0"/>
            </StackPanel>
        </Grid>

        <!-- Footer -->
        <Border Grid.ColumnSpan="2"
                VerticalAlignment="Bottom"
                Background="#FAFAFA"
                BorderBrush="#E5E7EB"
                BorderThickness="0,1,0,0"
                Height="50"
                Panel.ZIndex="100">
            <Grid Margin="40,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Left - Copyright & Version -->
                <StackPanel Orientation="Horizontal" 
                            VerticalAlignment="Center"
                            Grid.Column="0">
                    <TextBlock Text="© 2026 " 
                               Foreground="#6B7280" 
                               FontSize="12"
                               FontFamily="Segoe UI"/>
                    <TextBlock Text="Artech" 
                               Foreground="#374151" 
                               FontSize="12"
                               FontWeight="SemiBold"
                               FontFamily="Segoe UI"
                               Margin="0,0,3,0"/>
                    <TextBlock Text="• All rights reserved" 
                               Foreground="#6B7280" 
                               FontSize="12"
                               FontFamily="Segoe UI"
                               Margin="3,0,8,0"/>
                    <Border Background="#E5E7EB" 
                            Width="1" 
                            Height="14" 
                            VerticalAlignment="Center"
                            Margin="4,0"/>
                    <TextBlock Text="v1.3.1" 
                               Foreground="#9CA3AF" 
                               FontSize="11"
                               FontFamily="Consolas"
                               VerticalAlignment="Center"
                               Margin="4,0,0,0"/>
                </StackPanel>

                <!-- Center - Policy Links -->
                <StackPanel Orientation="Horizontal" 
                            VerticalAlignment="Center"
                            HorizontalAlignment="Center"
                            Grid.Column="1">
                    <TextBlock Text="Privacy Policy" 
                               Foreground="#6B7280" 
                               FontSize="12"
                               FontFamily="Segoe UI"
                               Cursor="Hand"
                               TextDecorations="None">
                        <TextBlock.Style>
                            <Style TargetType="TextBlock">
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Foreground" Value="#374151"/>
                                        <Setter Property="TextDecorations" Value="Underline"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>
                    
                    <TextBlock Text="•" 
                               Foreground="#D1D5DB" 
                               FontSize="12"
                               Margin="12,0"/>
                    
                    <TextBlock Text="Terms of Use" 
                               Foreground="#6B7280" 
                               FontSize="12"
                               FontFamily="Segoe UI"
                               Cursor="Hand"
                               TextDecorations="None">
                        <TextBlock.Style>
                            <Style TargetType="TextBlock">
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Foreground" Value="#374151"/>
                                        <Setter Property="TextDecorations" Value="Underline"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>
                </StackPanel>

                <!-- Right - Powered By -->
                <StackPanel Orientation="Horizontal" 
                            VerticalAlignment="Center"
                            HorizontalAlignment="Right"
                            Grid.Column="2">
                    <TextBlock Text="Powered by " 
                               Foreground="#9CA3AF" 
                               FontSize="12"
                               FontFamily="Segoe UI"
                               VerticalAlignment="Center"/>
                    <TextBlock Text="AR Technologies" 
                               Foreground="#374151" 
                               FontSize="12"
                               FontWeight="SemiBold"
                               FontFamily="Segoe UI"
                               VerticalAlignment="Center"
                               Cursor="Hand">
                        <TextBlock.Style>
                            <Style TargetType="TextBlock">
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Foreground" Value="#1F2937"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>
                </StackPanel>
            </Grid>
        </Border>

    </Grid>
    </ScrollViewer>
</UserControl>
